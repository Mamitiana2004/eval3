<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Acceuil </title>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <!-- icon -->
        <link rel="shortcut icon" th:href="@{/assets/img/hyper.svg}" type="image/x-icon">

        <!-- Vendor CSS Files -->
        <link th:href="@{/assets/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
        <link th:href="@{/assets/vendor/bootstrap-icons/bootstrap-icons.css}" rel="stylesheet">
        <link th:href="@{/assets/vendor/boxicons/css/boxicons.min.css}" rel="stylesheet">
        <link th:href="@{/assets/vendor/quill/quill.snow.css}" rel="stylesheet">
        <link th:href="@{/assets/vendor/quill/quill.bubble.css}" rel="stylesheet">
        <link th:href="@{/assets/vendor/remixicon/remixicon.css}" rel="stylesheet">
        <link th:href="@{/assets/vendor/simple-datatables/style.css}" rel="stylesheet">

        <link rel="stylesheet" th:href="@{/assets/css/style.css}">
        <link rel="stylesheet" th:href="@{/assets/css/navbar.css}">
        <link rel="stylesheet" th:href="@{/assets/css/sidebar.css}">
        <link rel="stylesheet" th:href="@{/assets/css/datatable.css}">
    </head>

    <body>
        <div th:include="/user/components/header.html"></div>
        <div th:include="/user/components/sidebar.html"></div>

        <main id="main" class="main">
            <div class="pagetitle">
                <h1>Depense</h1>
                <nav>
                  <ol class="breadcrumb">
                    <li class="breadcrumb-item active">AJouter</li>
                  </ol>
                </nav>
            </div><!-- End Page Title -->

            <section id="section" class="section">
                <div class="row">
                  <div class="col-xxl-12">
          
                    <div class="card">
                      <div class="card-body">
                        <h1 class="card-title">Ajouter une depense</h1>
                        <form action="addDepense" method="post" class="row g-3 needs-validation" novalidate>
                        
                          <div class="col-md-12 form-floating">
                            <select required class="form-control" name="type">
                                <option th:each="type : ${types}" th:value="${type.id}" th:text="${type.libelle}"></option>
                            </select>
                            <label for="floatingName">Type de depense</label>
                          </div>

                            <div class="col-md-12 row g-3">
                                <div class="col-md-4 form-floating">
                                    <input required class="form-control" pattern="^(0?[1-9]|[1-2][0-9]|3[0-1])$" type="number" name="jour" placeholder="Jour">
                                    <label for="floatingName">Jour</label>
                                </div>
                                <div class="col-md-4 row">
                                    <div class="col-md-6" th:each="moi : ${mois}">
                                        <p><input name="mois" type="checkbox" th:value="${moi.id}" ><span th:text="${moi.mois}"></span></p>
                                    </div>
                                </div>
                                <div class="col-md-4 form-floating">
                                    <input required class="form-control"  type="number" name="annee" placeholder="Jour">
                                    <label for="floatingName">Ann√©e</label>
                                </div>
                            </div>
    
                            <div class="col-md-12">
                                <div class="form-floating">
                                    <input required type="number" name="prix" placeholder="Prix" class="form-control">
                                  <label for="floatingName">Prix</label>
                                </div>
                            </div>
            
                            <div class="col-md-12 row mt-4">
                                <div class="col-md-6">
                                    <button type="submit" class="w-100 btn btn-primary">Ajouter</button>
                                </div>
                                <div class="col-md-6">
                                    <button class="w-100 btn btn-info" type="button" data-bs-toggle="modal" data-bs-target="#csvImport">Import CSV</button>
                                </div>
                            </div>
            
                          </form>
                      </div>
                    </div>
          
                  </div>
          
          
                </div>
          
          
              </section>



              <div class="modal fade" id="csvImport"  tabindex="-1">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title">Importer par csv</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <form action="/depense/importCSV" method="post" enctype="multipart/form-data">
                        <div class="form-floating">
                          <input accept=".csv" type="file" class="form-control" name="file" id="fileInp">
                          <label for="fileInp">Fichier csv</label>
                        </div>
                        <div class="mt-4">
                          <button class="btn btn-success w-100" type="submit">Importer</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div><!-- End Basic Modal-->


              <!-- Vendor JS Files -->
              <script th:src="@{/assets/vendor/apexcharts/apexcharts.min.js}"></script>
              <script th:src="@{/assets/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
              <script th:src="@{/assets/vendor/chart.js/chart.umd.js}"></script>
              <script th:src="@{/assets/vendor/echarts/echarts .min.js}"></script>
              <script th:src="@{/assets/vendor/quill/quill.min.js}"></script>
              <script th:src="@{/assets/vendor/simple-datatables/simple-datatables.js}"></script>
              <script th:src="@{/assets/vendor/tinymce/tinymce.min.js}"></script>
              <script th:src="@{/assets/vendor/php-email-form/validate.js}"></script>
              
              <!-- Template Main JS File -->
              <script th:src="@{/assets/js/main.js}"></script>
        </main>
    </body>
</html>